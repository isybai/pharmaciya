
  <!-- CRUD -->
<app-loading [condition]="isLoading"></app-loading>

<app-toast [message]="toast.message"></app-toast>

<div class="row info_table">
  <div class="" *ngIf="!isLoading">
    <h4 class="">Арендаторы {{renters.length}}</h4>
    <div class="">
      <table class="table table-bordered table-striped">
        <thead class="thead-default">
          <tr>
            <th>Имя</th>
            <th>Фам.</th>
            <th>Д.р.</th>
            <th>Тел.</th>
            <th>type</th>
            <th>liter</th>
            <th>square</th>
            <th>price</th>
            <th>dateFrom</th>
            <th>dateUntil</th>
            <th>priceSum</th>
            <th>deposite</th>
            <th>tbo</th>
            <th>electric</th>
            <th>telNet</th>
            <th>sumAll</th>
            <th>factPay</th>
            <th>datePay</th>
            <th>typePay</th>
            <th>status</th>
            <th>note</th>
            <th>Действия</th>
          </tr>
        </thead>
        <tbody *ngIf="renters.length === 0">
          <tr>
            <td colspan="5">В базе данных нету Арендаторов добавьте их.</td>
          </tr>  
        </tbody>

        <tbody *ngIf="!isEditing">
          <tr  *ngFor="let renter of renters">
            <td>{{renter.name}}</td>
            <td>{{renter.sur}}</td>
            <td>{{renter.dob}}</td>
            <td>0 {{renter.tel}}</td>
            <td>{{renter.type}}</td>
            <td>{{renter.liter}}</td>
            <td>{{renter.square}}</td>
            <td>{{renter.price}}</td>
            <td>{{renter.dateFrom}}</td>
            <td>{{renter.dateUntil}}</td>
            <td>{{renter.priceSum}}</td>
            <td>{{renter.deposite}}</td>
            <td>{{renter.tbo}}</td>
            <td>{{renter.electric}}</td>
            <td>{{renter.telNet}}</td>
            <td>{{renter.sumAll}}</td>
            <td>{{renter.factPay}}</td>
            <td>{{renter.datePay}}</td>
            <td>{{renter.typePay}}</td>
            <td>{{renter.status}}</td>
            <td>{{renter.note}}</td>
            <td>
              <button class="btn btn-sm btn-warning" (click)="enableEditing(renter)">
                <i class="fa fa-pencil"></i> 
                Редактировать
              </button> 
              <button class="btn btn-sm btn-danger" (click)="deleteRenter(renter)">
                <i class="fa fa-trash"></i>  
                Удалить
              </button>
            </td>
          </tr>  
        </tbody>
        <tbody *ngIf="isEditing">
          <tr>
            <td colspan="5">
              <form class="form-inline" #form="ngForm" (ngSubmit)="editRenter(renter)" style="display:inline">
                <div class="form-group">
                    <input class="form-control" type="text" name="name" [(ngModel)]="renter.name" placeholder="Имя" required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="sur" [(ngModel)]="renter.sur" placeholder="Фам."  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="dob" [(ngModel)]="renter.dob" step="any" min="0" placeholder="д.р."  required>
                </div>
                <div class="form-group">
                <span mdPrefix>0</span>
                  <input class="form-control" type="text" name="tel" [(ngModel)]="renter.tel"  placeholder="тел"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="type" [(ngModel)]="renter.type" placeholder="type"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="liter" [(ngModel)]="renter.liter" placeholder="liter"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="square" [(ngModel)]="renter.square" placeholder="square"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="price" [(ngModel)]="renter.price" placeholder="price"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="dateFrom" [(ngModel)]="renter.dateFrom" placeholder="dateFrom"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="dateUntil" [(ngModel)]="renter.dateUntil" placeholder="dateUntil"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="priceSum" [(ngModel)]="renter.priceSum" placeholder="priceSum"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="deposite" [(ngModel)]="renter.deposite" placeholder="deposite"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="tbo" [(ngModel)]="renter.tbo" placeholder="tbo"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="electric" [(ngModel)]="renter.electric" placeholder="electric"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="telNet" [(ngModel)]="renter.telNet" placeholder="telNet"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="sumAll" [(ngModel)]="renter.sumAll" placeholder="sumAll"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="factPay" [(ngModel)]="renter.factPay" placeholder="factPay"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="datePay" [(ngModel)]="renter.datePay" placeholder="datePay"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="typePay" [(ngModel)]="renter.typePay" placeholder="typePay"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="status" [(ngModel)]="renter.status" placeholder="status"  required>
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" name="note" [(ngModel)]="renter.note" placeholder="note"  required>
                </div>
                <button class="btn btn-sm btn-primary" type="submit" [disabled]="!form.form.valid"><i class="fa fa-floppy-o"></i> Сохранить</button>
              </form>
              <button class="btn btn-sm btn-warning" (click)="cancelEditing()"><i class="fa fa-times"></i> Отменить</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
    <md-sidenav-container class="example-container">
<div class="example-sidenav-content">
        <button md-raised-button (click)="sidenav.open()"><md-icon>add</md-icon>Добавить Арендатора
        </button>
      </div>
      <md-sidenav #sidenav class="example-sidenav">
        <div  class="addItem" *ngIf="!isEditing">
    <div>
      <form class="form-inline" [formGroup]="addRenterForm" (ngSubmit)="addRenter()" style="text-align:center">
        <md-form-field>
          <span mdTooltip="Нужно ввести имя"><input mdInput class="mat-input-element" type="text" name="name" formControlName="name" placeholder="Имя"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести фамилие"><input mdInput class="mat-input-element" type="text" name="sur" formControlName="sur" placeholder="Фамилие"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести день рождения"><input mdInput class="mat-input-element" type="text" name="sur" formControlName="dob" placeholder="Д.р."></span>
        </md-form-field>
        <span mdTooltip="Нужно ввести телефон">
        <md-form-field>
          <span style="color: #757575;" mdPrefix>+996 &nbsp;</span><input mdInput class="mat-input-element" type="tel" name="tel" formControlName="tel" placeholder="Телефон">
        </md-form-field>
        </span>
        <md-form-field>
          <span mdTooltip="Нужно ввести type"><input mdInput class="mat-input-element" type="text" name="type" formControlName="type" placeholder="type"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести liter"><input mdInput class="mat-input-element" type="text" name="liter" formControlName="liter" placeholder="liter"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести square"><input mdInput class="mat-input-element" type="text" name="square" formControlName="square" placeholder="square"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести price"><input mdInput class="mat-input-element" type="text" name="price" formControlName="price" placeholder="price"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести dateFrom"><input mdInput class="mat-input-element" type="text" name="dateFrom" formControlName="dateFrom" placeholder="dateFrom"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести dateUntil"><input mdInput class="mat-input-element" type="text" name="dateUntil" formControlName="dateUntil" placeholder="dateUntil"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести priceSum"><input mdInput class="mat-input-element" type="text" name="priceSum" formControlName="priceSum" placeholder="priceSum"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести deposite"><input mdInput class="mat-input-element" type="text" name="deposite" formControlName="deposite" placeholder="deposite"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести tbo"><input mdInput class="mat-input-element" type="text" name="tbo" formControlName="tbo" placeholder="tbo"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести electric"><input mdInput class="mat-input-element" type="text" name="electric" formControlName="electric" placeholder="electric"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести telNet"><input mdInput class="mat-input-element" type="text" name="telNet" formControlName="telNet" placeholder="telNet"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести sumAll"><input mdInput class="mat-input-element" type="text" name="sumAll" formControlName="sumAll" placeholder="sumAll"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести factPay"><input mdInput class="mat-input-element" type="text" name="factPay" formControlName="factPay" placeholder="factPay"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести datePay"><input mdInput class="mat-input-element" type="text" name="datePay" formControlName="datePay" placeholder="datePay"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести typePay"><input mdInput class="mat-input-element" type="text" name="typePay" formControlName="typePay" placeholder="typePay"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести status"><input mdInput class="mat-input-element" type="text" name="status" formControlName="status" placeholder="status"></span>
        </md-form-field>
        <md-form-field>
          <span mdTooltip="Нужно ввести note"><input mdInput class="mat-input-element" type="text" name="note" formControlName="note" placeholder="note"></span>
        </md-form-field>
        <button md-raised-button color="warm" class=""  type="submit" [disabled]="!addRenterForm.valid"><i class="material-icons">add</i> Добавить</button>
      </form>
    </div>
  </div>
      </md-sidenav>
   </md-sidenav-container>
</div>
